import{c as j,u as b,r as c,b as v,j as t,d,C as m}from"./index-BKMSpVWi.js";import{u}from"./useQuery-BpjAa03Y.js";import{B as w}from"./building-2-D_CwcGLn.js";import{C as E}from"./calendar-gh25dRrp.js";import{A as k}from"./arrow-right-DzjhYTXm.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=j("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),R=()=>{const{apiBaseUrl:r,setApiBaseUrl:p}=b(),[a,x]=c.useState("All"),h=v(),[n,f]=c.useState(),g=async()=>{try{const[e,s]=await Promise.all([d.get(`${r}/api/admitCard/`),d.get(`${r}/api/result/`)]);return e.status===201&&s.status===201?[...e.data,...s.data]:[]}catch(e){if(console.error("Error fetching important links:",e),e.response||e.request)if(e.response&&e.response.status>=500&&e.response.status<600||e.code==="ECONNREFUSED"||e.code==="ETIMEDOUT"||e.code==="ENOTFOUND"||e.code==="ERR_NETWORK"){const s=await m();p(s)}else console.error("Error fetching state count:",e);else console.error("Error fetching state count:",e)}},{data:o,isLoading1:O}=u({queryKey:["importantLinksDashboard",r],queryFn:g,staleTime:1/0,cacheTime:24*60*60*1e3,refetchOnMount:!0,refetchOnWindowFocus:!1}),N=async()=>{try{const e=await d.get(`${r}/api/category/getcategories`);if(e.status===201){const s=e.data.map(l=>l.category);return s.unshift("All"),s}}catch(e){if(e.response||e.request)if(e.response&&e.response.status>=500&&e.response.status<600||e.code==="ECONNREFUSED"||e.code==="ETIMEDOUT"||e.code==="ENOTFOUND"||e.code==="ERR_NETWORK"){const s=await m();p(s)}else console.error("Error fetching state count:",e);else console.error("Error fetching state count:",e)}},{data:i,isLoading2:A}=u({queryKey:["importanLinksCategory",r],queryFn:N,staleTime:1/0,cacheTime:24*60*60*1e3,refetchOnMount:!0,refetchOnWindowFocus:!1});c.useEffect(()=>{i&&o&&f(Array.isArray(o)?o.filter(e=>a==="All"||e.category===a):[])},[i,o,a]);const y=()=>{h("/overview")};return t.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-white shadow-md rounded-lg p-6 mt-10 mb-10",children:[t.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row justify-between items-center mb-6",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("h2",{className:"text-2xl font-bold text-purple-900",children:"Exam's Important Links"}),t.jsx("p",{className:"text-purple-600 mt-1",children:"Find all examination resources in one place"})]}),t.jsx("div",{className:"flex items-center gap-4",children:t.jsx("select",{className:"h-9 rounded-full px-4 pr-8 border border-purple-200 focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white text-sm",value:a,onChange:e=>x(e.target.value),children:i&&i.map(e=>t.jsx("option",{value:e,children:e},e))})})]}),n&&n.length>0?t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.slice(0,3).map(e=>t.jsxs("div",{className:"relative bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-300 p-4 border border-purple-200 flex flex-col justify-between",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold mb-2 flex items-center gap-2 text-purple-800",children:[t.jsx(w,{className:"h-5 w-5"}),e.abbreviation]}),t.jsx("p",{className:"font-medium text-gray-800 mb-2",children:e.examName}),t.jsxs("div",{className:"text-sm text-gray-600",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(E,{className:"h-4 w-4"}),"Updated: ",new Date(e.date_of_notification).toLocaleDateString()]}),t.jsx("span",{className:`inline-block mt-2 px-2 py-1 rounded-full text-xs ${e.status==="Active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:e.status||"ACTIVE"})]})]}),t.jsx("div",{className:"mt-4 space-y-2",children:e.links&&e.links.map((s,l)=>t.jsxs("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between px-3 py-2 bg-purple-50 text-purple-700 rounded-md hover:bg-purple-100 transition-colors",children:[t.jsx("span",{children:s.title}),t.jsx(L,{className:"h-4 w-4"})]},l))})]},e._id))}),n.length>3&&t.jsxs("button",{onClick:y,className:"w-full mt-6 flex items-center justify-center gap-2 text-purple-700 hover:text-purple-900 font-medium transition-colors duration-200",children:["View All Important Links",t.jsx(k,{className:"h-4 w-4"})]})]}):t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{className:"text-gray-500",children:"No important links available for this category."})})]})};export{R as default};
