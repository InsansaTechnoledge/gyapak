import{c as R,u as M,R as n,r as h,j as t,H as q,S as P,l as Q,e as j,C as H}from"./index-BzA7GNBa.js";import{B as K}from"./BackButton-BBfYGRx-.js";import{u as V}from"./useQuery-BggAR-v2.js";import{B as f}from"./building-2-DEm7_k0A.js";import{F as W}from"./filter-B2Zu0kuE.js";import{C as N}from"./calendar-C5bbOl98.js";import"./pdf.worker-D6-XlEtG.js";import"./arrow-left-DroWghk0.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=R("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=R("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),de=({trendingItems:b=[]})=>{const{apiBaseUrl:p,setApiBaseUrl:S,setServerError:$}=M(),[r,k]=n.useState(""),[d,E]=n.useState("all"),[o,T]=n.useState("all"),[Y,Z]=n.useState({}),[m,y]=n.useState([]),[g,A]=n.useState([]),[v,L]=h.useState([]),w=async()=>{try{const[e,a]=await Promise.all([j.get(`${p}/api/admitCard`),j.get(`${p}/api/result`)]),l=e.data.map(s=>({...s,type:"admitCard",examName:s.name,organization:s.abbreviation||s.organization,releaseDate:s.date_of_notification})),i=a.data.map(s=>({...s,type:"result",examName:s.name,organization:s.abbreviation||s.organization,publishDate:s.date_of_notification}));return y(l),[i,l]}catch(e){if(console.error("Failed to fetch data:",e.message),e.response||e.request)if(e.response&&e.response.status>=500&&e.response.status<600||e.code==="ECONNREFUSED"||e.code==="ETIMEDOUT"||e.code==="ENOTFOUND"||e.code==="ERR_NETWORK"){const a=await H();S(a),$(e.response.status)}else console.error("Error fetching state count:",e);else console.error("Error fetching state count:",e)}},{data:u,isLoading:ee}=V({queryKey:["trending",p],queryFn:w});h.useEffect(()=>{A(u[0]),y(u[1])},[u]),h.useEffect(()=>{(()=>{const i=[...b.map(s=>({...s,type:"examDate"})),...m,...g].filter(s=>{const O=d==="all"||s.organization?.toLowerCase()===d.toLowerCase(),U=!r||s.organization?.toLowerCase().includes(r.toLowerCase())||s.examName?.toLowerCase().includes(r.toLowerCase())||s.name?.toLowerCase().includes(r.toLowerCase());return O&&U});L(i)})()},[r,d,m,g]);const z=[...new Set([...b.map(e=>e.organization),...m.map(e=>e.organization),...g.map(e=>e.organization)].filter(Boolean))],_=()=>{w()},c=({item:e,colorScheme:a})=>{const l=()=>e.type==="result"?`Published: ${new Date(e.publishDate).toLocaleDateString()}`:e.type==="admitCard"?`Released: ${new Date(e.releaseDate).toLocaleDateString()}`:`Exam Date: ${new Date(e.examDate).toLocaleDateString()}`,i=()=>{switch(e.type){case"result":return"View Result";case"admitCard":return"Download Admit Card";default:return"View Details"}};return t.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden transition-all hover:shadow-lg",children:[t.jsx("div",{className:`h-2 ${a.headerBg}`}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsx("div",{className:"flex items-start justify-between",children:t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:`p-2.5 rounded-xl ${a.iconBg} ring-1 ring-inset ${a.iconRing}`,children:t.jsx(f,{className:`h-5 w-5 ${a.icon}`})}),t.jsxs("div",{children:[t.jsx("h4",{className:`text-lg font-semibold ${a.title} line-clamp-1`,children:e.organization}),t.jsx("span",{className:`text-xs font-medium ${a.typeBadge} px-2.5 py-0.5 rounded-full`,children:e.type})]})]})})}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("p",{className:"text-gray-900 font-medium text-lg line-clamp-2",children:e.examName||e.name}),t.jsxs("div",{className:`inline-flex items-center gap-2 text-sm ${a.dateText} bg-gray-50 px-3 py-1.5 rounded-lg`,children:[t.jsx(N,{className:"h-4 w-4"}),t.jsx("span",{children:l()})]})]}),t.jsx("div",{className:"flex gap-3 pt-2",children:t.jsxs("button",{className:`flex-1 px-4 py-2.5 rounded-lg text-white font-medium transition-all duration-200 
                                ${a.button} hover:shadow-lg active:scale-98 flex items-center justify-center gap-2`,onClick:()=>window.open(e.apply_link||"#","_blank"),children:[t.jsx("span",{children:i()}),t.jsx(Q,{className:"h-4 w-4"})]})})]})]})},F=[{id:"all",label:"All Updates",icon:W},{id:"results",label:"Results",icon:f},{id:"admitCards",label:"Admit Cards",icon:N},{id:"examDates",label:"Exam Dates",icon:G}],x=e=>v.filter(a=>a.type===e),I=e=>{switch(e){case"result":return C;case"admitCard":return B;case"examDate":return D;default:return X}};return t.jsxs(t.Fragment,{children:[t.jsxs(q,{children:[t.jsx("title",{children:"gyapak"}),t.jsx("meta",{name:"description",content:"gyapak.in is a trusted source for the latest government exam updates, including exam dates, notifications, admit cards, and results for both central and state government departments. Stay updated with real-time information on competitive exams, application deadlines, and result announcements!"}),t.jsx("meta",{name:"keywords",content:"government exams, exam dates, admit cards, results, central government jobs, state government jobs, competitive exams, government jobs"}),t.jsx("meta",{property:"og:title",content:"gyapak"}),t.jsx("meta",{property:"og:description",content:"Find the latest updates on government exams, admit cards, results, and application deadlines for central and state government jobs."})]}),t.jsx("div",{className:"min-h-screen bg-gray-50/50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-32 space-y-6",children:[t.jsx(K,{}),t.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden p-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-6 mb-8",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:t.jsx(f,{className:"h-6 w-6 text-purple-600"})}),t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-purple-600 to-purple-800",children:"Trending Updates"})]}),t.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Stay updated with the latest announcements from top organizations"})]}),t.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-4 py-2 bg-purple-50 text-purple-700 rounded-lg hover:bg-purple-100 transition-all duration-200 font-medium",children:[t.jsx(J,{className:"h-4 w-4"}),"Refresh Updates"]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:t.jsx(P,{className:"h-4 w-4 text-gray-400"})}),t.jsx("input",{type:"text",placeholder:"Search by organization or exam name...",className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white placeholder-gray-400",value:r,onChange:e=>k(e.target.value)})]}),t.jsxs("select",{className:"w-full sm:w-[220px] px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white cursor-pointer",value:d,onChange:e=>E(e.target.value),children:[t.jsx("option",{value:"all",children:"All Organizations"}),z.map(e=>t.jsx("option",{value:e,children:e},e))]})]})]}),t.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden p-6",children:[t.jsx("div",{className:"flex flex-wrap gap-2 mb-8 border-b",children:F.map(e=>t.jsxs("button",{onClick:()=>T(e.id),className:`flex items-center gap-2 px-4 py-3 font-medium transition-all duration-200 relative
                                    ${o===e.id?"text-purple-800 border-b-2 border-purple-600":"text-gray-600 hover:text-gray-900"}`,children:[t.jsx(e.icon,{className:"h-4 w-4"}),e.label]},e.id))}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o==="all"&&v.map((e,a)=>t.jsx(c,{item:e,colorScheme:I(e.type)},e._id||`all-${a}`)),o==="results"&&x("result").map((e,a)=>t.jsx(c,{item:e,colorScheme:C},e._id||`result-${a}`)),o==="admitCards"&&x("admitCard").map((e,a)=>t.jsx(c,{item:e,colorScheme:B},e._id||`admitCard-${a}`)),o==="examDates"&&x("examDate").map((e,a)=>t.jsx(c,{item:e,colorScheme:D},e._id||`examDate-${a}`))]})]})]})})]})},X={headerBg:"bg-gradient-to-r from-purple-500 to-purple-600",icon:"text-purple-600",iconBg:"bg-purple-50",iconRing:"ring-purple-100",title:"text-purple-900",typeBadge:"bg-purple-50 text-purple-700",dateText:"text-purple-700",button:"bg-purple-600 hover:bg-purple-700",notificationActive:"bg-purple-50"},C={headerBg:"bg-gradient-to-r from-green-500 to-green-600",icon:"text-green-600",iconBg:"bg-green-50",iconRing:"ring-green-100",title:"text-green-900",typeBadge:"bg-green-50 text-green-700",dateText:"text-green-700",button:"bg-green-600 hover:bg-green-700",notificationActive:"bg-green-50"},B={headerBg:"bg-gradient-to-r from-blue-500 to-blue-600",icon:"text-blue-600",iconBg:"bg-blue-50",iconRing:"ring-blue-100",title:"text-blue-900",typeBadge:"bg-blue-50 text-blue-700",dateText:"text-blue-700",button:"bg-blue-600 hover:bg-blue-700",notificationActive:"bg-blue-50"},D={headerBg:"bg-gradient-to-r from-yellow-500 to-yellow-600",icon:"text-yellow-600",iconBg:"bg-yellow-50",iconRing:"ring-yellow-100",title:"text-yellow-900",typeBadge:"bg-yellow-50 text-yellow-700",dateText:"text-yellow-700",button:"bg-yellow-600 hover:bg-yellow-700",notificationActive:"bg-yellow-50"};export{de as default};
