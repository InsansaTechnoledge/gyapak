const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TopCategoriesCard-LxtWhK_a.js","assets/index-CgX5nck7.js","assets/pdf.worker-D6-XlEtG.js","assets/index-CVbBBieX.css","assets/ViewMoreButton-Dx8IW49F.js","assets/chevron-up-Bjc-cME4.js","assets/chevron-down-Dq3vzhIG.js"])))=>i.map(i=>d[i]);
import{u as j,r as t,j as s,f as l,_ as n,e as E,C as y}from"./index-CgX5nck7.js";import"./lodash-CZK75vGX.js";import{u as N}from"./useQuery-J57xT2pk.js";import"./pdf.worker-D6-XlEtG.js";const v=t.lazy(()=>n(()=>import("./TopCategoriesCard-LxtWhK_a.js"),__vite__mapDeps([0,1,2,3]))),C=t.lazy(()=>n(()=>import("./ViewMoreButton-Dx8IW49F.js"),__vite__mapDeps([4,1,2,3,5,6]))),O=d=>{const{apiBaseUrl:c,setApiBaseUrl:u,setServerError:f}=j(),[x,o]=t.useState([]),[i,p]=t.useState(!1),m=()=>{p(!i),o(i?r.slice(0,4):r)},g=async()=>{try{const e=await E.get(`${c}/api/category/getCategories`);if(e.status===201)return o(e.data.slice(0,4)),e.data}catch(e){if(console.error("Error fetching categories:",e),e.response||e.request)if(e.response&&e.response.status>=500&&e.response.status<600||e.code==="ECONNREFUSED"||e.code==="ETIMEDOUT"||e.code==="ENOTFOUND"||e.code==="ERR_NETWORK"){const a=await y();u(a),f(e.response.status)}else console.error("Error fetching state count:",e);else console.error("Error fetching state count:",e)}},{data:r,isLoading:h}=N({queryKey:["fetchCategories",c],queryFn:g,staleTime:1/0,cacheTime:24*60*60*1e3,refetchOnMount:!0,refetchOnWindowFocus:!1});return t.useEffect(()=>{r&&o(r.slice(0,4))},[r]),h||!r?s.jsxs("div",{className:"w-full flex flex-col justify-center mb-10",children:[s.jsx("h1",{className:"flex text-center text-2xl justify-center mb-5 font-bold",children:"Top Categories in government jobs after 12th"}),s.jsx("div",{className:"flex justify-center",children:s.jsx(l,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})})]}):s.jsxs(s.Fragment,{children:[!d.titleHidden&&s.jsx("h1",{className:"flex text-center text-2xl justify-center mb-10 font-bold",children:"Top Categories in government jobs after 12th"}),s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 mb-5 gap-4",children:s.jsx(t.Suspense,{fallback:s.jsx("div",{children:s.jsx("div",{className:"w-full h-screen flex justify-center",children:s.jsx(l,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})})}),children:x.map((e,a)=>s.jsx(v,{name:e.category,logo:e.logo,id:e._id},a))})}),s.jsx("div",{className:"flex justify-center gap-4 mb-20",children:s.jsx(t.Suspense,{fallback:s.jsx("div",{children:s.jsx("div",{className:"w-full h-screen flex justify-center",children:s.jsx(l,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})})}),children:s.jsx(C,{content:i?"Close All ▲":"View More ▼",onClick:m})})})]})};export{O as default};
