import{o as g,r as a,j as e,L as c}from"./index-Dl99mQHm.js";import{a as u,b as f}from"./Service-DDiWCYW9.js";import{A as d}from"./arrow-left-DD-3gnEu.js";import{C as j}from"./calendar-BLc7eFpX.js";import{C as b}from"./clock-D40K3D1E.js";import{S as N}from"./share-2-0LGUJbu_.js";import"./pdf.worker-D6-XlEtG.js";const A=()=>{const{slug:r}=g(),[i,m]=a.useState(null),[x,h]=a.useState(!0),[v,w]=a.useState(!1),[y,k]=a.useState(!1),[n,p]=a.useState([]);if(a.useEffect(()=>{(async()=>{try{const l=await u(r);m(l),window.scrollTo(0,0);const o=await f(r);p(o)}catch(l){console.error("Failed to fetch blog:",l)}finally{h(!1)}})()},[r]),x)return e.jsx("div",{className:"flex justify-center items-center h-96",children:e.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-200 mb-4"}),e.jsx("div",{className:"h-4 bg-purple-100 rounded w-32"})]})});if(!i)return e.jsx("div",{className:"max-w-3xl mx-auto pt-24 pb-16 px-4 text-center",children:e.jsxs("div",{className:"bg-red-50 p-6 rounded-lg",children:[e.jsx("h2",{className:"text-red-500 text-xl font-semibold mb-2",children:"Blog Not Found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"The blog post you're looking for doesn't exist or has been removed."}),e.jsxs(c,{to:"/blog",className:"inline-flex items-center text-purple-600 hover:text-purple-800",children:[e.jsx(d,{className:"h-4 w-4 mr-2"}),"Back to all blogs"]})]})});const{data:t}=i;return e.jsxs("div",{className:"bg-white min-h-screen pt-24 pb-16",children:[e.jsx("div",{className:"max-w-5xl mx-auto px-4 mb-6",children:e.jsxs(c,{to:"/blog",className:"inline-flex items-center text-purple-600 hover:text-purple-800 transition-colors duration-200",children:[e.jsx(d,{className:"h-4 w-4 mr-2"}),"Back to all blogs"]})}),e.jsxs("div",{className:"relative h-96 max-w-5xl mx-auto mb-12 px-4",children:[e.jsx("img",{src:t.imageUrl||"/api/placeholder/1000/500",alt:t.title,className:"w-full h-full object-cover rounded-xl shadow-lg"}),e.jsx("div",{className:"absolute left-8 bottom-0 transform translate-y-1/2 bg-white py-2 px-4 rounded-full shadow-md text-sm font-medium text-purple-700",children:t.category})]}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4 leading-tight",children:t.title}),e.jsxs("div",{className:"flex flex-wrap items-center text-gray-500 text-sm mb-6",children:[e.jsxs("div",{className:"flex items-center mr-6",children:[e.jsx(j,{className:"h-4 w-4 mr-1 text-purple-500"}),e.jsx("span",{children:t.formattedDate})]}),e.jsxs("div",{className:"flex items-center mr-6",children:[e.jsx(b,{className:"h-4 w-4 mr-1 text-purple-500"}),e.jsxs("span",{children:[t.readTime," min read"]})]}),t.tags&&t.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2 md:mt-0",children:t.tags.map(s=>e.jsxs("span",{className:"bg-purple-50 text-purple-700 px-2 py-1 rounded-md text-xs",children:["#",s]},s))})]})]}),e.jsx("div",{className:"prose max-w-none prose-purple prose-headings:text-gray-800 prose-p:text-gray-600 prose-a:text-purple-600 mb-10",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:t.content?.replace(/\n/g,"<br/>")}})}),e.jsxs("div",{className:"flex items-center mb-8 p-4 bg-purple-50 rounded-lg",children:[e.jsx("img",{src:t.author?.avatar||"/api/placeholder/64/64",alt:t.author?.name,className:"w-12 h-12 rounded-full mr-4 border-2 border-white shadow"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-800 font-medium",children:t.author?.name}),e.jsx("p",{className:"text-sm text-gray-500",children:t.author?.bio})]})]}),e.jsx("div",{className:"mt-12 mb-8 py-6 border-t border-b border-gray-100 flex flex-wrap justify-between items-center",children:e.jsx("div",{className:"flex items-center space-x-3 mt-3 sm:mt-0",children:e.jsxs("button",{className:"flex items-center text-gray-500 hover:text-purple-600 transition-colors",onClick:()=>{const s=window.location.href,l=i?.data?.title||"Check out this blog on Gyapak";navigator.share?navigator.share({title:l,url:s}).then(()=>console.log("Shared successfully!")).catch(o=>console.error("Error sharing:",o)):(navigator.clipboard.writeText(s),alert("Link copied to clipboard!"))},children:[e.jsx(N,{className:"h-7 w-7 mr-1"}),e.jsx("span",{title:"Share this blog",children:"Share"})]})})}),e.jsxs("div",{className:"mt-16",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Related Articles"}),n.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map(s=>e.jsxs(c,{to:`/blog/${s.slug}`,className:"group flex gap-4 p-4 border rounded-lg hover:shadow-md transition duration-300",children:[e.jsx("img",{src:s.imageUrl||"/api/placeholder/300/180",alt:s.title,className:"w-32 h-24 object-cover rounded-lg flex-shrink-0"}),e.jsxs("div",{className:"flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 group-hover:text-purple-600 transition duration-200",children:s.title}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mt-1",children:s.excerpt})]}),e.jsxs("span",{className:"text-xs text-gray-400 mt-2",children:[s.formattedDate," â€¢ ",s.readTime," min read"]})]})]},s._id))}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:e.jsx("p",{children:"No related articles available at the moment."})})]})]})]})};export{A as default};
