const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TopAuthoritiesCard-f_fqMVF2.js","assets/index-DqqM8hkC.js","assets/pdf.worker-D6-XlEtG.js","assets/index-ydlDOgtN.css","assets/ViewMoreButton-Cl9awMH_.js"])))=>i.map(i=>d[i]);
import{a as A,r as a,j as e,R as l,_ as p,b as w,c as T}from"./index-DqqM8hkC.js";import{u as B}from"./useQuery-CP19uEiB.js";import"./pdf.worker-D6-XlEtG.js";const M=a.lazy(()=>p(()=>import("./TopAuthoritiesCard-f_fqMVF2.js"),__vite__mapDeps([0,1,2,3]))),m=a.lazy(()=>p(()=>import("./ViewMoreButton-Cl9awMH_.js"),__vite__mapDeps([4,1,2,3]))),r=8,D=f=>{const{apiBaseUrl:x,setApiBaseUrl:g,setServerError:h}=A(),[o,c]=a.useState(1),j=async({queryKey:s})=>{const[z,v,i]=s;try{const t=await w.get(`${v}/api/organization/logo`,{params:{page:i,limit:r}});return t.status===200?t.data:{data:[],total:0,page:i,limit:r}}catch(t){if(console.error("Error fetching organizations:",t),t.response||t.request)if(t.response&&t.response.status>=500&&t.response.status<600||["ECONNREFUSED","ETIMEDOUT","ENOTFOUND","ERR_NETWORK"].includes(t.code)){const b=await T();g(b),t.response&&h(t.response.status)}else console.error("Error fetching state count:",t);else console.error("Error fetching state count:",t);return{data:[],total:0,page:i,limit:r}}},{data:u,isLoading:E}=B({queryKey:["fetchLogos",x,o],queryFn:j,keepPreviousData:!0,staleTime:1/0,cacheTime:24*60*60*1e3,refetchOnMount:!0,refetchOnWindowFocus:!1}),n=u?.data||[],y=u?.total||0,d=Math.ceil(y/r),_=()=>{o<d&&c(s=>s+1)},N=()=>{c(1)};return E?e.jsxs("div",{className:"w-full flex flex-col justify-center mb-10",children:[e.jsx("h1",{className:"flex text-center text-2xl justify-center mb-5 font-bold",children:`Central authorities hosting upcoming government exams ${new Date().getFullYear()}`}),e.jsx("div",{className:"flex justify-center",children:e.jsx(l,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})})]}):(console.log("organizations in component:",n),e.jsxs(e.Fragment,{children:[f.titleHidden?null:e.jsx("h1",{className:"flex text-center text-2xl justify-center mb-5 font-bold",children:`Central authorities hosting upcoming government exams ${new Date().getFullYear()}`}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 mb-5 gap-4",children:e.jsx(a.Suspense,{fallback:e.jsx("div",{className:"w-full h-screen flex justify-center",children:e.jsx(l,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})}),children:n.length>0&&n.map(s=>e.jsx(M,{name:s.abbreviation,logo:s.logo,id:s._id},s._id))})}),e.jsx("div",{className:"flex justify-center gap-4 mb-20",children:e.jsxs(a.Suspense,{fallback:e.jsx("div",{className:"w-full h-screen flex justify-center",children:e.jsx(l,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})}),children:[o<d&&e.jsx(m,{content:"View More ▼",onClick:_}),o>1&&e.jsx(m,{content:"Close All ▲",onClick:N})]})})]}))};export{D as default};
