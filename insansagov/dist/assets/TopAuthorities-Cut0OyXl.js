const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TopAuthoritiesCard-Dfb3eaIw.js","assets/index-PLu6uRG2.js","assets/pdf.worker-D6-XlEtG.js","assets/index-p7jQuYaB.css","assets/ViewMoreButton-BFYksAkT.js","assets/chevron-up-C1rgKWjL.js","assets/chevron-down-CB39vjdA.js"])))=>i.map(i=>d[i]);
import{a as j,r,j as s,R as n,_ as u,b as y,g as E}from"./index-PLu6uRG2.js";import"./lodash-CZK75vGX.js";import{u as v}from"./useQuery-Bgb22j8F.js";import"./pdf.worker-D6-XlEtG.js";const N=r.lazy(()=>u(()=>import("./TopAuthoritiesCard-Dfb3eaIw.js"),__vite__mapDeps([0,1,2,3]))),c=r.lazy(()=>u(()=>import("./ViewMoreButton-BFYksAkT.js"),__vite__mapDeps([4,1,2,3,5,6]))),C=d=>{const{apiBaseUrl:l,setApiBaseUrl:m,setServerError:x}=j(),[o,a]=r.useState(8),h=async()=>{try{const e=await y.get(`${l}/api/organization/logo`);if(e.status===200)return e.data}catch(e){if(console.error("Error fetching organizations:",e),e.response||e.request)if(e.response&&e.response.status>=500&&e.response.status<600||e.code==="ECONNREFUSED"||e.code==="ETIMEDOUT"||e.code==="ENOTFOUND"||e.code==="ERR_NETWORK"){const i=await E();m(i),x(e.response.status)}else console.error("Error fetching state count:",e);else console.error("Error fetching state count:",e)}},{data:t,isLoading:f}=v({queryKey:["fetchLogos",l],queryFn:h,staleTime:1/0,cacheTime:24*60*60*1e3,refetchOnMount:!0,refetchOnWindowFocus:!1}),p=()=>{a(e=>Math.min(e+4,t.length))},g=()=>{a(8)};return f||!t?s.jsxs("div",{className:"w-full flex flex-col justify-center mb-10",children:[s.jsx("h1",{className:"flex text-center text-2xl justify-center mb-5 font-bold",children:`Central authorities hosting upcoming government exams ${new Date().getFullYear()}`}),s.jsx("div",{className:"flex justify-center",children:s.jsx(n,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})})]}):s.jsxs(s.Fragment,{children:[d.titleHidden?null:s.jsx("h1",{className:"flex text-center text-2xl justify-center mb-5 font-bold",children:`Central authorities hosting upcoming government exams ${new Date().getFullYear()}`}),s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 mb-5 gap-4",children:s.jsx(r.Suspense,{fallback:s.jsx("div",{children:s.jsx("div",{className:"w-full h-screen flex justify-center",children:s.jsx(n,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})})}),children:t.length>0&&t.slice(0,o).map((e,i)=>s.jsx(N,{name:e.abbreviation,logo:e.logo,id:e._id},i))})}),s.jsx("div",{className:"flex justify-center gap-4 mb-20",children:s.jsxs(r.Suspense,{fallback:s.jsx("div",{children:s.jsx("div",{className:"w-full h-screen flex justify-center",children:s.jsx(n,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})})}),children:[o<t.length&&s.jsx(c,{content:"View More ▼",onClick:p}),o>8&&s.jsx(c,{content:"Close All ▲",onClick:g})]})})]})};export{C as default};
