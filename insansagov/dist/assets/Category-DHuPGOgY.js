import{u as x,r as n,a as f,j as e,f as h,H as j,e as y,C as v}from"./index-BFkRaJJ4.js";import{R as E}from"./RelatedAuthorities-DVC1skw7.js";import{B as N}from"./BackButton-DOuQIdwX.js";import{n as b}from"./no_data-ZhIxPc4_.js";import{u as O}from"./useQuery-CAQNJghH.js";import"./TopAuthoritiesCard-B76mv795.js";import"./ViewMoreButton-Cj-NtwsO.js";import"./chevron-down-CfYUPMrk.js";const q=()=>{const{apiBaseUrl:i,setApiBaseUrl:m,setServerError:d}=x();n.useState(!1);const g=f(),[u,c]=n.useState(),[a,l]=n.useState(),s=new URLSearchParams(g.search).get("name"),p=async()=>{try{const t=await y.get(`${i}/api/category/organizations/${s}`);if(t.status===201)return c(t.data.categoryData.logo),l(t.data.organizations.filter(o=>o.logo)),t.data}catch(t){if(t.response||t.request)if(t.response&&t.response.status>=500&&t.response.status<600||t.code==="ECONNREFUSED"||t.code==="ETIMEDOUT"||t.code==="ENOTFOUND"||t.code==="ERR_NETWORK"){const o=await v();m(o),d(t.response.status)}else console.error("Error fetching state count:",t);else console.error("Error fetching state count:",t)}},{data:r,isLoading:w}=O({queryKey:["fetchCategoryOrganization/"+s,i],queryFn:p,staleTime:1/0,cacheTime:24*60*60*1e3,refetchOnMount:!0,refetchOnWindowFocus:!1});return n.useEffect(()=>{r&&(c(r.categoryData.logo),l(r.organizations.filter(t=>t.logo)))},[r]),a?e.jsxs(e.Fragment,{children:[e.jsxs(j,{children:[e.jsx("title",{children:"gyapak"}),e.jsx("meta",{name:"description",content:"gyapak.in is a trusted source for the latest government exam updates, including exam dates, notifications, admit cards, and results for both central and state government departments. Stay updated with real-time information on competitive exams, application deadlines, and result announcements!"}),e.jsx("meta",{name:"keywords",content:"government exams, exam dates, admit cards, results, central government jobs, state government jobs, competitive exams, government jobs"}),e.jsx("meta",{property:"og:title",content:"gyapak"}),e.jsx("meta",{property:"og:description",content:"Find the latest updates on government exams, admit cards, results, and application deadlines for central and state government jobs."})]}),e.jsxs("div",{className:"pt-28",children:[e.jsx(N,{}),e.jsxs("div",{className:"flex flex-col justify-center mb-20",children:[e.jsx("img",{src:`data:image/png;base64,${u}`,className:"w-28 self-center mb-5"}),e.jsx("h1",{className:"text-3xl self-center font-bold",children:s})]}),a&&a.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("h1",{className:"font-bold text-2xl text-center mb-10",children:["Organizations under ",s]}),e.jsx(E,{organizations:a})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-center font-bold text-lg mb-5",children:"No Organization under this category!"}),e.jsx("img",{src:b,className:"w-5/12 mx-auto"})]})]})]}):e.jsx("div",{className:"w-full h-screen flex justify-center",children:e.jsx(h,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})})};export{q as default};
