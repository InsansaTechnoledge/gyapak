import{e as A,r as d,j as e,b as k,S as Q}from"./index-Blcj_2Q4.js";import{T as C}from"./tag-D1RTrVn0.js";import{C as L}from"./chevron-down-BXJ8AVX1.js";import{C as T}from"./circle-check-big-BooOPQjX.js";import{H as $}from"./Helmet-Du4d8yM_.js";import"./pdf.worker-D6-XlEtG.js";import"./index-Chjiymov.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=A("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=A("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=A("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),q=({question:i,answer:a,categories:l=[],state:t="published",seoTags:o=[]})=>{const[c,u]=d.useState(!1),x={published:{className:"bg-purple-200 text-gray-800 border border-gray-200",icon:e.jsx(T,{className:"mr-1 h-3 w-3"})},draft:{className:"bg-white text-gray-600 border border-gray-200",icon:e.jsx(M,{className:"mr-1 h-3 w-3"})},archived:{className:"bg-gray-50 text-gray-500 border border-gray-200",icon:e.jsx(B,{className:"mr-1 h-3 w-3"})}},m=x[t]||x.published;return e.jsx("div",{className:`border-b border-gray-200 transition-colors duration-200 ${c?"bg-gray-50":"hover:bg-gray-50/20"}`,children:e.jsxs("div",{className:"px-6 py-5",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[l.map((s,p)=>e.jsxs("span",{className:"inline-flex items-center rounded-md bg-white border border-gray-200 px-2 py-0.5 text-xs font-medium text-gray-700",children:[e.jsx(C,{className:"mr-1 h-3 w-3 text-purple-500",strokeWidth:2}),s]},`cat-${p}`)),e.jsxs("span",{className:`inline-flex items-center rounded-md px-2 py-0.5 text-xs font-medium ${m.className}`,children:[m.icon,t]})]}),e.jsxs("button",{className:"flex w-full justify-between items-center text-left font-medium focus:outline-none group",onClick:()=>u(!c),"aria-expanded":c,children:[e.jsx("span",{className:`text-lg transition-colors duration-200 ${c?"text-gray-900 font-semibold":"text-gray-800 group-hover:text-gray-900"}`,children:i}),e.jsx("div",{className:"ml-4 flex-shrink-0 h-6 w-6 rounded-full bg-gray-100 flex items-center justify-center",children:c?e.jsx(R,{className:"h-4 w-4 text-purple-600"}):e.jsx(L,{className:"h-4 w-4 text-purple-600"})})]}),e.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${c?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:e.jsxs("div",{className:"pt-4 pb-1 text-gray-700",children:[typeof a=="string"?e.jsx("p",{className:"leading-relaxed",children:a}):a,o.length>0&&e.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[e.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Related Topics"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:o.map((s,p)=>e.jsxs("span",{className:"inline-flex items-center rounded-md bg-white px-2 py-1 text-xs font-medium text-gray-700 ring-1 ring-inset ring-gray-200",children:[e.jsx(C,{className:"mr-1 h-3 w-3 text-purple-500",strokeWidth:2}),s]},`seo-${p}`))})]})]})})]})})},E=({faqs:i,filterOptions:a={}})=>{const[l,t]=d.useState("all"),[o,c]=d.useState("all"),u=Array.isArray(i)?i:[],x=["all",...new Set(u.flatMap(s=>s.categories||[]))];[...new Set(u.map(s=>s.state||"All"))];const m=u.filter(s=>{const p=l==="all"||s.categories&&s.categories.includes(l),f=o==="all"||s.state===o;return p&&f});return e.jsxs("div",{className:"space-y-8  mx-auto",children:[a.showFilters&&e.jsxs("div",{className:"bg-purple-50 p-6 rounded-xl shadow-sm mb-8 border border-purple-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-purple-800 mb-4",children:"Filter FAQs"}),e.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:space-y-0 sm:space-x-6",children:[a.showCategoryFilter&&e.jsxs("div",{className:"sm:w-1/2",children:[e.jsx("label",{htmlFor:"category-filter",className:"block text-sm font-medium text-purple-700 mb-2",children:"Filter by Category"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{id:"category-filter",value:l,onChange:s=>t(s.target.value),className:"appearance-none w-full rounded-lg border border-purple-200 py-2 pl-3 pr-10 text-base focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-300 bg-white text-purple-900 transition duration-200",children:x.map(s=>e.jsx("option",{value:s,children:s.charAt(0).toUpperCase()+s.slice(1)},s))}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-purple-500",children:e.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),a.showStateFilter&&e.jsxs("div",{className:"sm:w-1/2",children:[e.jsx("label",{htmlFor:"category-filter",className:"block text-sm font-medium text-purple-700 mb-2",children:"Filter by Category"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{id:"category-filter",value:l,onChange:s=>t(s.target.value),className:"appearance-none w-full rounded-lg border border-purple-200 py-2 pl-3 pr-10 text-base focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-300 bg-white text-purple-900 transition duration-200",children:x.map(s=>e.jsx("option",{value:s,children:s.charAt(0).toUpperCase()+s.slice(1)},s))}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-purple-500",children:e.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]})]})]}),e.jsx("div",{className:"rounded-xl bg-white border border-purple-100 shadow-sm divide-y divide-purple-100",children:m.length>0?m.map((s,p)=>e.jsx(q,{question:s.question,answer:s.answer,categories:s.categories||[],state:s.state||"All",seoTags:s.seoTags||[]},p)):e.jsx("div",{className:"text-center py-12 px-4",children:e.jsxs("div",{className:"bg-purple-50 rounded-lg p-6 inline-block",children:[e.jsx("svg",{className:"h-12 w-12 text-purple-400 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2z"})}),e.jsx("p",{className:"text-purple-700 font-medium text-lg",children:"No FAQs match your current filters."}),e.jsx("button",{onClick:()=>{t("all"),c("all")},className:"mt-4 text-sm font-medium text-purple-600 hover:text-purple-800 focus:outline-none focus:underline transition duration-200",children:"Reset filters"})]})})})]})},N="https://adminpanel.gyapak.in",z=async(i={})=>{const a=new URLSearchParams(i).toString(),l=a?`${N}/api/v1i2/faq?${a}`:`${N}/api/v1i2/faq`;return(await k.get(l)).data},U=async(i,a={})=>{if(!i)throw new Error("Organization ID is required");const l=new URLSearchParams(a).toString(),t=`${N}/api/v1i2/faq/org/${i}${l?`?${l}`:""}`;return(await k.get(t)).data},O=(i=[],a=null,l={})=>{const[t,o]=d.useState(i),[c,u]=d.useState(!0),[x,m]=d.useState(null),[s,p]=d.useState([]),[f,j]=d.useState([]),[g,v]=d.useState([]);return d.useEffect(()=>{(async()=>{u(!0);try{const n=a?await U(a,l):await z(l);o(n.data||[]),m(null)}catch(n){console.error("âŒ Failed to load FAQs:",n),m("Failed to load FAQs"),o(defaultFAQs)}finally{u(!1)}})()},[a,JSON.stringify(l)]),d.useEffect(()=>{if(t.length>0){const r=[...new Set(t.flatMap(h=>h.categories||[]))];p(r);const n=[...new Set(t.map(h=>h.state||"All"))];j(n);const y=[...new Set(t.flatMap(h=>h.seoTags||[]))];v(y)}},[t]),{faqs:t,setFAQs:o,loading:c,error:x,categories:s,states:f,seoTags:g,filterByCategory:r=>!r||r==="all"?t:t.filter(n=>n.categories?.includes(r)),filterByState:r=>!r||r==="all"?t:t.filter(n=>n.state===r),filterBySeoTag:r=>r?t.filter(n=>n.seoTags?.includes(r)):t,searchFAQs:r=>{if(!r)return t;const n=r.toLowerCase();return t.filter(y=>y.question?.toLowerCase().includes(n)||y.answer?.toLowerCase().includes(n)||y.categories?.some(h=>h.toLowerCase().includes(n))||y.seoTags?.some(h=>h.toLowerCase().includes(n)))}}},I=({title:i="frequently asked questions",customFAQs:a,orgId:l=null,showSearch:t=!0,showCategoryFilter:o=!0,showStateFilter:c=!1,showSEOTags:u=!0,className:x="",metaDescription:m=`frequently asked questions and answers about government jobs and exams: latest ${new Date().getFullYear()} updates`})=>{const{faqs:s,loading:p,error:f,searchFAQs:j}=O(a,l),[g,v]=d.useState(""),w=g?j(g):s,S=()=>{if(!s||s.length===0)return null;const b={"@context":"https://schema.org","@type":"FAQPage",mainEntity:s.map(r=>({"@type":"Question",name:r.question,acceptedAnswer:{"@type":"Answer",text:r.answer}}))};return JSON.stringify(b)};if(p)return e.jsx("div",{className:"text-center py-8",children:"Loading FAQs..."});if(f)return e.jsx("div",{className:"text-center py-8 text-red-500",children:f});const F=i||(l?"frequently asked questions for This Organization":"frequently asked questions");return e.jsxs(e.Fragment,{children:[u&&e.jsxs($,{children:[e.jsx("meta",{name:"description",content:m}),e.jsx("script",{type:"application/ld+json",children:S()})]}),e.jsxs("div",{className:`max-w-3xl mx-auto px-4 py-8 ${x}`,children:[e.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-8",children:F}),t&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx(Q,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",className:"w-full p-4 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-white focus:ring-blue-500 focus:border-blue-500",placeholder:"Search FAQs...",value:g,onChange:b=>v(b.target.value),"aria-label":"Search FAQs"})]})}),e.jsx(E,{faqs:w,filterOptions:{showFilters:o||c,showCategoryFilter:o,showStateFilter:c}}),w.length===0&&g&&e.jsxs("div",{className:"text-center mt-8 text-gray-500",children:['No FAQs found matching "',g,'". Try a different search term.']})]})]})};export{I as default};
