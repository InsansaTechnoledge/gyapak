import{r as c,j as e,e as A,S as j}from"./index-CgX5nck7.js";import{T as N}from"./tag-CQJEmdle.js";import{C as F}from"./chevron-up-Bjc-cME4.js";import{C as T}from"./chevron-down-Dq3vzhIG.js";import"./pdf.worker-D6-XlEtG.js";const C=({question:l,answer:r,categories:a=[],state:s="published",seoTags:i=[]})=>{const[u,m]=c.useState(!1),y={published:"bg-green-100 text-green-800",draft:"bg-gray-100 text-gray-800",archived:"bg-yellow-100 text-yellow-800"};return e.jsxs("div",{className:"border-b border-gray-200 py-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[a.map((d,p)=>e.jsxs("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-medium text-blue-800",children:[e.jsx(N,{className:"mr-1 h-3 w-3"}),d]},`cat-${p}`)),e.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${y[s]||y.published}`,children:s})]}),e.jsxs("button",{className:"flex w-full justify-between items-center text-left font-medium text-gray-900 focus:outline-none",onClick:()=>m(!u),children:[e.jsx("span",{className:"text-lg",children:l}),u?e.jsx(F,{className:"h-5 w-5 text-gray-500"}):e.jsx(T,{className:"h-5 w-5 text-gray-500"})]}),u&&e.jsxs("div",{className:"mt-2 text-gray-600",children:[e.jsx("p",{className:"pt-2",children:r}),i.length>0&&e.jsx("div",{className:"mt-3 pt-2 border-t border-gray-100",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:i.map((d,p)=>e.jsxs("span",{className:"inline-flex items-center rounded-full bg-purple-100 px-2.5 py-0.5 text-xs font-medium text-purple-800",children:["#",d]},`seo-${p}`))})})]})]})},Q=({faqs:l,filterOptions:r={}})=>{const[a,s]=c.useState("all"),[i,u]=c.useState("all"),m=Array.isArray(l)?l:[],y=["all",...new Set(m.flatMap(t=>t.categories||[]))],d=["all",...new Set(m.map(t=>t.state||"All"))],p=m.filter(t=>{const h=a==="all"||t.categories&&t.categories.includes(a),g=i==="all"||t.state===i;return h&&g});return e.jsxs("div",{className:"space-y-6",children:[r.showFilters&&e.jsxs("div",{className:"mb-6 flex flex-col space-y-4 sm:flex-row sm:space-y-0 sm:space-x-4",children:[r.showCategoryFilter&&e.jsxs("div",{className:"min-w-40",children:[e.jsx("label",{htmlFor:"category-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Category"}),e.jsx("select",{id:"category-filter",value:a,onChange:t=>s(t.target.value),className:"w-full rounded-md border border-gray-300 py-2 pl-3 pr-10 text-base focus:border-blue-500 focus:outline-none focus:ring-blue-500",children:y.map(t=>e.jsx("option",{value:t,children:t.charAt(0).toUpperCase()+t.slice(1)},t))})]}),r.showStateFilter&&e.jsxs("div",{className:"min-w-40",children:[e.jsx("label",{htmlFor:"state-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by State"}),e.jsx("select",{id:"state-filter",value:i,onChange:t=>u(t.target.value),className:"w-full rounded-md border border-gray-300 py-2 pl-3 pr-10 text-base focus:border-blue-500 focus:outline-none focus:ring-blue-500",children:d.map(t=>e.jsx("option",{value:t,children:t.charAt(0).toUpperCase()+t.slice(1)},t))})]})]}),e.jsx("div",{className:"rounded-lg bg-white   ",children:p.length>0?p.map((t,h)=>e.jsx(C,{question:t.question,answer:t.answer,categories:t.categories||[],state:t.state||"All",seoTags:t.seoTags||[]},h)):e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No FAQs match your current filters."})})]})},v="https://gyapak-admin2.onrender.com",q=async(l={})=>{const r=new URLSearchParams(l).toString(),a=r?`${v}/api/v1i2/faq?${r}`:`${v}/api/v1i2/faq`;return(await A.get(a)).data},k=async(l,r={})=>{if(!l)throw new Error("Organization ID is required");const a=new URLSearchParams(r).toString(),s=`${v}/api/v1i2/faq/org/${l}${a?`?${a}`:""}`;return(await A.get(s)).data},P=[{question:"How do I reset my password?",answer:"You can reset your password by clicking on the 'Forgot Password' link on the login page and following the instructions sent to your email.",categories:["Account","Security"],state:"published",seoTags:["password-reset","login-help","account-recovery"]},{question:"What payment methods do you accept?",answer:"We accept all major credit cards, PayPal, and bank transfers. For enterprise customers, we also offer invoicing options.",categories:["Billing","Payment"],state:"published",seoTags:["payment-methods","credit-card","paypal"]},{question:"How can I contact customer support?",answer:"Our support team is available 24/7 via email at support@example.com or through the chat option in your account dashboard.",categories:["Support","Contact"],state:"published",seoTags:["customer-support","contact-us","help"]},{question:"Can I cancel my subscription anytime?",answer:"Yes, you can cancel your subscription at any time from your account settings. You'll continue to have access until the end of your current billing period.",categories:["Billing","Subscription"],state:"published",seoTags:["cancel-subscription","billing","account-management"]},{question:"Do you offer refunds?",answer:"We offer a 30-day money-back guarantee for all our subscription plans. If you're not satisfied, please contact our support team within this period to process your refund.",categories:["Billing","Refunds"],state:"published",seoTags:["refund-policy","money-back","customer-satisfaction"]},{question:"How do I update my billing information?",answer:"You can update your billing information from your account settings under the 'Billing' tab. There you can change your payment method, address, and other details.",categories:["Billing","Account"],state:"published",seoTags:["update-billing","payment-info","account-settings"]},{question:"What is your data privacy policy?",answer:"We take data privacy seriously. We never sell your data to third parties and use industry-standard encryption. For more details, please see our full Privacy Policy document.",categories:["Privacy","Security"],state:"published",seoTags:["privacy-policy","data-protection","gdpr"]},{question:"How secure is my data?",answer:"Your data is encrypted both in transit and at rest. We use bank-level security measures and regular security audits to ensure your information remains safe.",categories:["Security","Privacy"],state:"published",seoTags:["data-security","encryption","safe-storage"]},{question:"Do you have an API?",answer:"Yes, we offer a comprehensive API for developers. You can find the documentation and keys in your account dashboard under the 'Developer' section.",categories:["Developers","API"],state:"published",seoTags:["api-access","developer-tools","integration"]},{question:"What are the system requirements?",answer:"Our platform works on all modern browsers (Chrome, Firefox, Safari, Edge) updated within the last two years. Mobile apps are available for iOS 13+ and Android 8+.",categories:["Technical","Requirements"],state:"published",seoTags:["system-requirements","browser-compatibility","mobile-support"]},{question:"Can I access my account from multiple devices?",answer:"Yes, you can access your account from any device with an internet connection. Your data will automatically sync across all your devices.",categories:["Account","Technical"],state:"published",seoTags:["multi-device","sync","mobile-access"]},{question:"How does the free trial work?",answer:"Our free trial gives you 14 days of access to all premium features with no credit card required. At the end of the trial, you can choose a subscription plan to continue.",categories:["Billing","Trial"],state:"published",seoTags:["free-trial","premium-features","no-credit-card"]},{question:"What is our new enterprise solution?",answer:"Our enterprise solution offers dedicated support, custom integrations, and advanced security features for large organizations. Contact our sales team for a demo.",categories:["Enterprise","Solutions"],state:"draft",seoTags:["enterprise","business-solution","custom-integration"]},{question:"Do you offer discounts for non-profits?",answer:"Yes, we offer special pricing for verified non-profit organizations. Please contact our sales team with your non-profit documentation to apply.",categories:["Billing","Non-Profit"],state:"archived",seoTags:["non-profit","discounts","special-pricing"]}],B=(l=[],r=null,a={})=>{const[s,i]=c.useState(l),[u,m]=c.useState(!0),[y,d]=c.useState(null),[p,t]=c.useState([]),[h,g]=c.useState([]),[w,b]=c.useState([]);return c.useEffect(()=>{(async()=>{m(!0);try{const n=r?await k(r,a):await q(a);i(n.data||[]),d(null)}catch(n){console.error("❌ Failed to load FAQs:",n),d("Failed to load FAQs"),i(P)}finally{m(!1)}})()},[r,JSON.stringify(a)]),c.useEffect(()=>{if(s.length>0){const o=[...new Set(s.flatMap(f=>f.categories||[]))];t(o);const n=[...new Set(s.map(f=>f.state||"All"))];g(n);const x=[...new Set(s.flatMap(f=>f.seoTags||[]))];b(x)}},[s]),{faqs:s,setFAQs:i,loading:u,error:y,categories:p,states:h,seoTags:w,filterByCategory:o=>!o||o==="all"?s:s.filter(n=>n.categories?.includes(o)),filterByState:o=>!o||o==="all"?s:s.filter(n=>n.state===o),filterBySeoTag:o=>o?s.filter(n=>n.seoTags?.includes(o)):s,searchFAQs:o=>{if(!o)return s;const n=o.toLowerCase();return s.filter(x=>x.question?.toLowerCase().includes(n)||x.answer?.toLowerCase().includes(n)||x.categories?.some(f=>f.toLowerCase().includes(n))||x.seoTags?.some(f=>f.toLowerCase().includes(n)))}}},R=({title:l="frequently asked questions",customFAQs:r,orgId:a=null,showSearch:s=!0,showCategoryFilter:i=!0,showStateFilter:u=!1,showSEOTags:m=!0,className:y=""})=>{const{faqs:d,loading:p,error:t,searchFAQs:h}=B(r,a),[g,w]=c.useState(""),b=g?h(g):d;return p?e.jsx("div",{className:"text-center py-8",children:"Loading FAQs..."}):t?e.jsx("div",{className:"text-center py-8 text-red-500",children:t}):e.jsxs("div",{className:`max-w-3xl mx-auto px-4 py-8 ${y}`,children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-8",children:l||(a?"FAQs for This Organization":"Frequently Asked Questions")}),s&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx(j,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",className:"w-full p-4 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-white focus:ring-blue-500 focus:border-blue-500",placeholder:"Search FAQs...",value:g,onChange:S=>w(S.target.value)})]})}),e.jsx(Q,{faqs:b,filterOptions:{showFilters:i||u,showCategoryFilter:i,showStateFilter:u}}),b.length===0&&g&&e.jsxs("div",{className:"text-center mt-8 text-gray-500",children:['No FAQs found matching "',g,'". Try a different search term.']})]})};export{R as default};
