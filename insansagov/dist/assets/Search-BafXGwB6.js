const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TopAuthoritiesCard-g1YiTo84.js","assets/index-Ca8FwCbV.js","assets/pdf.worker-D6-XlEtG.js","assets/index-C8lAg4DL.css","assets/ViewMoreButton-GlncXzMI.js","assets/chevron-down-D_E3bWdV.js","assets/TopCategoriesCard-um1pbv9C.js"])))=>i.map(i=>d[i]);
import{r as n,j as e,b as O,u as y,f as h,_ as p,e as E,C as N,a as w,H as A}from"./index-Ca8FwCbV.js";import T from"./Search-HMk2D1S3.js";import"./TopAuthorities-D6WMlWHw.js";import{R as z}from"./RelatedAuthorities-BDP4KjEc.js";import R from"./TopCategoriesCard-um1pbv9C.js";import{u as v}from"./useQuery-CStliD8Q.js";import"./pdf.worker-D6-XlEtG.js";import"./lodash-CZK75vGX.js";import"./TopAuthoritiesCard-g1YiTo84.js";import"./ViewMoreButton-GlncXzMI.js";import"./chevron-down-D_E3bWdV.js";const B=r=>{const[l,u]=n.useState([]);return n.useEffect(()=>{r.categories&&u(r.categories)},[r]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 mb-5 gap-4",children:l.map((d,o)=>e.jsx(R,{name:d.category,logo:d.logo,id:d._id},o))})})},M=r=>{const l=O();return e.jsxs("div",{onClick:()=>l(`/state?name=${encodeURI(r.name)}`),className:"flex flex-col justify-center hover:cursor-pointer hover:scale-110 transition-all duration-300",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{className:"w-32 h-28 object-contain",src:`data:image/png;base64,${r.logo}`,alt:"Category Logo"})}),e.jsx("p",{className:"flex justify-center mt-4 text-gray-900 text-sm font-medium",children:r.name})]})},S=r=>{const[l,u]=n.useState([]);return n.useEffect(()=>{r.states&&u(r.states)},[r]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"grid grid-cols-4 mb-5 gap-4",children:l.map((d,o)=>e.jsx(M,{name:d.name,logo:d.logo,id:d._id},o))})})};n.lazy(()=>p(()=>import("./TopAuthoritiesCard-g1YiTo84.js"),__vite__mapDeps([0,1,2,3])));const _=n.lazy(()=>p(()=>import("./ViewMoreButton-GlncXzMI.js"),__vite__mapDeps([4,1,2,3,5]))),D=({currentAuthority:r})=>{const{apiBaseUrl:l,setApiBaseUrl:u,setServerError:d}=y(),[o,m]=n.useState(8),g=()=>{m(s=>Math.min(s+4,i.length))},f=()=>{m(8)},x=async()=>{try{const s=await E.get(`${l}/api/state/more/`);if(s.status===201)return s.data.filter(j=>j._id!==r._id)}catch(s){if(s.response||s.request)if(s.response&&s.response.status>=500&&s.response.status<600||s.code==="ECONNREFUSED"||s.code==="ETIMEDOUT"||s.code==="ENOTFOUND"||s.code==="ERR_NETWORK"){const c=await N();u(c),d(s.response.status)}else console.error("Error fetching state count:",s);else console.error("Error fetching state count:",s)}},{data:i,isLoading:t}=v({queryKey:["moreAuthorities",l],queryFn:x,staleTime:1/0,cacheTime:24*60*60*1e3,refetchOnMount:!0,refetchOnWindowFocus:!1});return t||!i?e.jsx("div",{className:"w-full flex flex-col justify-center mb-10",children:e.jsx("div",{className:"flex justify-center",children:e.jsx(h,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})})}):i.length===0?null:e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-2xl xl:text-3xl font-bold text-gray-900 mb-10",children:"More Authorities"}),e.jsx("div",{className:"grid grid-cols-4 mb-5 gap-4",children:e.jsx(n.Suspense,{fallback:e.jsx("div",{children:e.jsx("div",{className:"w-full h-screen flex justify-center",children:e.jsx(h,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})})}),children:i.slice(0,o).map((s,c)=>e.jsx(M,{name:s.name,logo:s.logo,id:s._id},c))})}),e.jsx("div",{className:"flex justify-center gap-4 mb-20",children:e.jsxs(n.Suspense,{fallback:e.jsx("div",{children:e.jsx("div",{className:"w-full h-screen flex justify-center",children:e.jsx(h,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})})}),children:[o<i.length&&e.jsx(_,{content:"View More ▼",onClick:g}),o>8&&e.jsx(_,{content:"Close All ▲",onClick:f})]})})]})},F=n.lazy(()=>p(()=>import("./TopAuthoritiesCard-g1YiTo84.js"),__vite__mapDeps([0,1,2,3]))),C=n.lazy(()=>p(()=>import("./ViewMoreButton-GlncXzMI.js"),__vite__mapDeps([4,1,2,3,5]))),U=({currentOrganization:r})=>{const{apiBaseUrl:l,setApiBaseUrl:u,setServerError:d}=y(),[o,m]=n.useState(8),g=()=>{m(s=>Math.min(s+4,i.length))},f=()=>{m(8)},x=async()=>{try{const s=await E.get(`${l}/api/organization/more/${r.category}`);if(s.status===201)return s.data.filter(j=>j._id!=r._id)}catch(s){if(s.response||s.request)if(s.response&&s.response.status>=500&&s.response.status<600||s.code==="ECONNREFUSED"||s.code==="ETIMEDOUT"||s.code==="ENOTFOUND"||s.code==="ERR_NETWORK"){const c=await N();u(c),d(s.response.status)}else console.error("Error fetching state count:",s);else console.error("Error fetching state count:",s)}},{data:i,isLoading:t}=v({queryKey:["moreOrganizations",l],queryFn:x,staleTime:1/0,cacheTime:24*60*60*1e3,refetchOnMount:!0,refetchOnWindowFocus:!1});return t||!i?e.jsx("div",{className:"w-full flex flex-col justify-center mb-10",children:e.jsx("div",{className:"flex justify-center",children:e.jsx(h,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})})}):i.length===0?null:e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-2xl xl:text-3xl font-bold text-gray-900 mb-10",children:"More Organizations"}),e.jsx("div",{className:"grid grid-cols-4 mb-5 gap-4",children:e.jsx(n.Suspense,{fallback:e.jsx("div",{children:e.jsx("div",{className:"w-full h-screen flex justify-center",children:e.jsx(h,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})})}),children:i.slice(0,o).map((s,c)=>e.jsx(F,{name:s.abbreviation,logo:s.logo,id:s._id},c))})}),e.jsx("div",{className:"flex justify-center gap-4 mb-20",children:e.jsxs(n.Suspense,{fallback:e.jsx("div",{children:e.jsx("div",{className:"w-full h-screen flex justify-center",children:e.jsx(h,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})})}),children:[o<i.length&&e.jsx(C,{content:"View More ▼",onClick:g}),o>8&&e.jsx(C,{content:"Close All ▲",onClick:f})]})})]})},k=n.lazy(()=>p(()=>import("./TopCategoriesCard-um1pbv9C.js"),__vite__mapDeps([6,1,2,3]))),b=n.lazy(()=>p(()=>import("./ViewMoreButton-GlncXzMI.js"),__vite__mapDeps([4,1,2,3,5]))),q=({currentCategory:r})=>{const{apiBaseUrl:l,setApiBaseUrl:u,setServerError:d}=y(),[o,m]=n.useState(8),g=()=>{m(s=>Math.min(s+4,i.length))},f=()=>{m(8)},x=async()=>{try{const s=await E.get(`${l}/api/category/getCategories/`);if(s.status===201)return console.log(s.data),s.data.filter(j=>j._id!=r._id)}catch(s){if(s.response||s.request)if(s.response&&s.response.status>=500&&s.response.status<600||s.code==="ECONNREFUSED"||s.code==="ETIMEDOUT"||s.code==="ENOTFOUND"||s.code==="ERR_NETWORK"){const c=await N();u(c),d(s.response.status)}else console.error("Error fetching state count:",s);else console.error("Error fetching state count:",s)}},{data:i,isLoading:t}=v({queryKey:["moreCategories",l],queryFn:x,staleTime:1/0,cacheTime:24*60*60*1e3,refetchOnMount:!0,refetchOnWindowFocus:!1});return t||!i?e.jsx("div",{className:"w-full flex flex-col justify-center mb-10",children:e.jsx("div",{className:"flex justify-center",children:e.jsx(h,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})})}):i.length===0?null:e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-2xl xl:text-3xl font-bold text-gray-900 mb-10",children:"More Categories"}),e.jsx("div",{className:"grid grid-cols-4 mb-5 gap-4",children:e.jsx(n.Suspense,{fallback:e.jsx("div",{children:e.jsx("div",{className:"w-full h-screen flex justify-center",children:e.jsx(h,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})})}),children:i.slice(0,o).map((s,c)=>e.jsx(k,{name:s.category,logo:s.logo,id:s._id},c))})}),e.jsx("div",{className:"flex justify-center gap-4 mb-20",children:e.jsxs(n.Suspense,{fallback:e.jsx("div",{children:e.jsx("div",{className:"w-full h-screen flex justify-center",children:e.jsx(h,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})})}),children:[o<i.length&&e.jsx(b,{content:"View More ▼",onClick:g}),o>8&&e.jsx(b,{content:"Close All ▲",onClick:f})]})})]})},I="/assets/no_search-CG7dct5k.jpg",X=()=>{const{apiBaseUrl:r,setApiBaseUrl:l,setServerError:u}=y(),d=w(),[o,m]=n.useState(),g=new URLSearchParams(d.search),f=O(),x=g.get("query"),i=async()=>{try{if(m(x),x=="")return{authorities:[],organizations:[],categories:[]};const a=await E.get(`${r}/api/search/result/${x}`);if(a.status===200)return console.log("SD",a.data),a.data}catch(a){if(a.response||a.request)if(a.response&&a.response.status>=500&&a.response.status<600||a.code==="ECONNREFUSED"||a.code==="ETIMEDOUT"||a.code==="ENOTFOUND"||a.code==="ERR_NETWORK"){const j=await N();l(j),u(a.response.status)}else console.error("Error fetching state count:",a);else console.error("Error fetching state count:",a)}},{data:t,isLoading:s}=v({queryKey:["search/"+x,r],queryFn:i,staleTime:1/0,cacheTime:5*60*1e3,refetchOnMount:!0,refetchOnWindowFocus:!1});n.useEffect(()=>{t&&m(x)},[t]);const c=a=>{f(`/search?query=${encodeURIComponent(a.trim())}`)};return t?e.jsxs(e.Fragment,{children:[e.jsxs(A,{children:[e.jsx("title",{children:"gyapak"}),e.jsx("meta",{name:"description",content:"gyapak.in is a trusted source for the latest government exam updates, including exam dates, notifications, admit cards, and results for both central and state government departments. Stay updated with real-time information on competitive exams, application deadlines, and result announcements!"}),e.jsx("meta",{name:"keywords",content:"government exams, exam dates, admit cards, results, central government jobs, state government jobs, competitive exams, government jobs"}),e.jsx("meta",{property:"og:title",content:"gyapak"}),e.jsx("meta",{property:"og:description",content:"Find the latest updates on government exams, admit cards, results, and application deadlines for central and state government jobs."})]}),e.jsxs("div",{className:"pt-28",children:[e.jsx("div",{className:"flex justify-center mb-10",children:e.jsx(T,{input:o,searchHandler:c})}),t&&t.authorities.length==0&&t.categories.length==0&&t.organizations.length==0?e.jsxs(e.Fragment,{children:[e.jsxs("h3",{className:"font-bold text-center text-2xl",children:['No match found for "',o,'"']}),e.jsx("img",{src:I,className:"w-5/12 mx-auto"})]}):e.jsxs("div",{className:"text-2xl xl:text-3xl font-bold text-gray-900 mb-5",children:['Your search result for "',o,'"']}),t&&t.authorities&&t.authorities.length>0?e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-lg mb-3",children:"States"}),e.jsx(S,{states:t.authorities})]}):null,t&&t.organizations&&t.organizations.length>0?e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-lg mb-3",children:"Organizations"}),e.jsx(z,{organizations:t.organizations})]}):null,t&&t.categories&&t.categories.length>0?e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-lg mb-3",children:"Categories"}),e.jsx(B,{categories:t.categories})]}):null,t&&t.authorities&&t.authorities.length>0?e.jsx(e.Fragment,{children:e.jsx(D,{currentAuthority:t.authorities[0]})}):t&&t.organizations&&t.organizations.length>0?e.jsx(e.Fragment,{children:e.jsx(U,{currentOrganization:t.organizations[0]})}):t&&t.categories&&t.categories.length>0?e.jsx(e.Fragment,{children:e.jsx(q,{currentCategory:t.categories[0]})}):null]})]}):e.jsx("div",{className:"w-full h-screen flex justify-center",children:e.jsx(h,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})})};export{X as default};
