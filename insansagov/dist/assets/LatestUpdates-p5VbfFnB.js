const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LatestUpdateCard-CC3wDLs2.js","assets/index-Blcj_2Q4.js","assets/pdf.worker-D6-XlEtG.js","assets/index-C6zvgXsd.css","assets/moment-C5S46NFB.js","assets/dateFormatter-Bnw4dpKK.js","assets/useEventRouting-Bf7LmZwF.js","assets/urlUtils.utils-BjqSc7UL.js","assets/calendar-DSVHOJ-8.js","assets/tag-D1RTrVn0.js","assets/ViewMoreButton-DFNg4oKw.js"])))=>i.map(i=>d[i]);
import{a as b,r as a,j as t,i as m,_ as u,b as E}from"./index-Blcj_2Q4.js";import{u as w}from"./useQuery-Cm-XwrIp.js";import"./pdf.worker-D6-XlEtG.js";const N=a.lazy(()=>u(()=>import("./LatestUpdateCard-CC3wDLs2.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))),L=a.lazy(()=>u(()=>import("./ViewMoreButton-DFNg4oKw.js"),__vite__mapDeps([10,1,2,3]))),k=({titleHidden:f})=>{const{apiBaseUrl:x,setApiBaseUrl:h,setServerError:j}=b(),[n,y]=a.useState(!1),[g,o]=a.useState([]),_=()=>{o(n?s.slice(0,2):s),y(!n)},i=async()=>{try{const e=await E.get(`${x}/api/event/latest`);if(e.status===201)return e.data.sort((l,c)=>{const d=new Date(l.updatedAt||l.date_of_notification),p=new Date(c.updatedAt||c.date_of_notification);return isNaN(d)||isNaN(p)?0:p-d}).slice(0,6)}catch(e){if(console.error("Error fetching latest updates:",e),e.response)if(e.response.status>=500&&e.response.status<600){console.error("ðŸš¨ Server Error:",e.response.status,e.response.statusText);const r=CheckServer();h(r),j(e.response.status),i()}else console.error("Error fetching state count:",e);else console.error("Error fetching state count:",e)}},{data:s,isLoading:v}=w({queryKey:["latestUpdates"],queryFn:i,staleTime:1/0,cacheTime:24*60*60*1e3,refetchOnMount:!0,refetchOnWindowFocus:!1});return a.useEffect(()=>{s&&o(s.slice(0,2))},[s]),v?t.jsx("div",{className:"mx-auto flex justify-center items-center",children:t.jsx(m,{})}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-white rounded-2xl p-6 mb-10 shadow-sm",children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx("div",{className:"font-bold text-2xl flex items-center",children:"Latest Updates for government jobs after 12th"}),t.jsx(a.Suspense,{fallback:t.jsx("div",{children:t.jsx("div",{className:"w-full h-screen flex justify-center",children:t.jsx(m,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})})}),children:s&&s.length>2?t.jsx(t.Fragment,{children:t.jsx(L,{content:n?"View Less â–²":"View More â–¼",onClick:_})}):null})]}),t.jsx("div",{className:" mb-5  text-gray-500 text-sm max-w-xl mt-2",children:"Just passed 12th? Government Jobs are waiting! Explore wide range of Government jobs after 12th, track notifications, and apply on time with Gyapakâ€™s smart tools and resources. From SSC CHSL to Indian Army, Navy, Air Force, Police Constable, and other state-level recruitments, there are countless government jobs after Class 12. Gyapak brings you the latest updates, eligibility, and exam dates â€” all in one place"})]}),!f&&t.jsx("div",{className:"space-y-5 mb-10",children:t.jsx(a.Suspense,{fallback:t.jsx("div",{children:"Loading updates..."}),children:g.map((e,r)=>t.jsx(N,{id:e._id,name:e.name,date:e.updatedAt||e.date_of_notification,organization:e.organizationName,apply_link:e.apply_link},e._id||r))})})]})};export{k as default};
