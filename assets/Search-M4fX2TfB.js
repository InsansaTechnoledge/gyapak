const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TopAuthoritiesCard-CPTT7FEf.js","assets/index-BKMSpVWi.js","assets/index-IwJ0CcE6.css","assets/ViewMoreButton-COQiTmiz.js","assets/chevron-down-C27PXoqE.js","assets/TopCategoriesCard-t99bIUBg.js"])))=>i.map(i=>d[i]);
import{r as n,j as e,b,_ as j,u as p,e as x,d as y,C as N,a as M,H as w}from"./index-BKMSpVWi.js";import A from"./Search-B9UuQcJJ.js";import"./TopAuthorities-4wih5WbD.js";import{R as T}from"./RelatedAuthorities-BIyrIq65.js";import R from"./TopCategoriesCard-t99bIUBg.js";import{u as E}from"./useQuery-BpjAa03Y.js";import"./lodash-CXZMCRKK.js";import"./TopAuthoritiesCard-CPTT7FEf.js";import"./ViewMoreButton-COQiTmiz.js";import"./chevron-down-C27PXoqE.js";const z=r=>{const[l,u]=n.useState([]);return n.useEffect(()=>{r.categories&&u(r.categories)},[r]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 mb-5 gap-4",children:l.map((a,d)=>e.jsx(R,{name:a.category,logo:a.logo,id:a._id},d))})})},O=r=>{const l=b();return e.jsxs("div",{onClick:()=>l(`/state?name=${encodeURI(r.name)}`),className:"flex flex-col justify-center hover:cursor-pointer hover:scale-110 transition-all duration-300",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{className:"w-32 h-28 object-contain",src:`data:image/png;base64,${r.logo}`,alt:"Category Logo"})}),e.jsx("p",{className:"flex justify-center mt-4 text-gray-900 text-sm font-medium",children:r.name})]})},B=r=>{const[l,u]=n.useState([]);return n.useEffect(()=>{r.states&&u(r.states)},[r]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"grid grid-cols-4 mb-5 gap-4",children:l.map((a,d)=>e.jsx(O,{name:a.name,logo:a.logo,id:a._id},d))})})};n.lazy(()=>j(()=>import("./TopAuthoritiesCard-CPTT7FEf.js"),__vite__mapDeps([0,1,2])));const _=n.lazy(()=>j(()=>import("./ViewMoreButton-COQiTmiz.js"),__vite__mapDeps([3,1,2,4]))),F=({currentAuthority:r})=>{const{apiBaseUrl:l,setApiBaseUrl:u}=p(),[a,d]=n.useState(8),h=()=>{d(t=>Math.min(t+4,o.length))},g=()=>{d(8)},m=async()=>{try{const t=await y.get(`${l}/api/state/more/`);if(t.status===201)return t.data.filter(f=>f._id!==r._id)}catch(t){if(t.response||t.request)if(t.response&&t.response.status>=500&&t.response.status<600||t.code==="ECONNREFUSED"||t.code==="ETIMEDOUT"||t.code==="ENOTFOUND"||t.code==="ERR_NETWORK"){const c=await N();u(c)}else console.error("Error fetching state count:",t);else console.error("Error fetching state count:",t)}},{data:o,isLoading:s}=E({queryKey:["moreAuthorities",l],queryFn:m,staleTime:1/0,cacheTime:24*60*60*1e3,refetchOnMount:!0,refetchOnWindowFocus:!1});return s||!o?e.jsx("div",{className:"w-full flex flex-col justify-center mb-10",children:e.jsx("div",{className:"flex justify-center",children:e.jsx(x,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})})}):o.length===0?null:e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-2xl xl:text-3xl font-bold text-gray-900 mb-10",children:"More Authorities"}),e.jsx("div",{className:"grid grid-cols-4 mb-5 gap-4",children:e.jsx(n.Suspense,{fallback:e.jsx("div",{children:e.jsx("div",{className:"w-full h-screen flex justify-center",children:e.jsx(x,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})})}),children:o.slice(0,a).map((t,c)=>e.jsx(O,{name:t.name,logo:t.logo,id:t._id},c))})}),e.jsx("div",{className:"flex justify-center gap-4 mb-20",children:e.jsxs(n.Suspense,{fallback:e.jsx("div",{children:e.jsx("div",{className:"w-full h-screen flex justify-center",children:e.jsx(x,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})})}),children:[a<o.length&&e.jsx(_,{content:"View More ▼",onClick:h}),a>8&&e.jsx(_,{content:"Close All ▲",onClick:g})]})})]})},D=n.lazy(()=>j(()=>import("./TopAuthoritiesCard-CPTT7FEf.js"),__vite__mapDeps([0,1,2]))),v=n.lazy(()=>j(()=>import("./ViewMoreButton-COQiTmiz.js"),__vite__mapDeps([3,1,2,4]))),S=({currentOrganization:r})=>{const{apiBaseUrl:l,setApiBaseUrl:u}=p(),[a,d]=n.useState(8),h=()=>{d(t=>Math.min(t+4,o.length))},g=()=>{d(8)},m=async()=>{try{const t=await y.get(`${l}/api/organization/more/${r.category}`);if(t.status===201)return t.data.filter(f=>f._id!=r._id)}catch(t){if(t.response||t.request)if(t.response&&t.response.status>=500&&t.response.status<600||t.code==="ECONNREFUSED"||t.code==="ETIMEDOUT"||t.code==="ENOTFOUND"||t.code==="ERR_NETWORK"){const c=await N();u(c)}else console.error("Error fetching state count:",t);else console.error("Error fetching state count:",t)}},{data:o,isLoading:s}=E({queryKey:["moreOrganizations",l],queryFn:m,staleTime:1/0,cacheTime:24*60*60*1e3,refetchOnMount:!0,refetchOnWindowFocus:!1});return s||!o?e.jsx("div",{className:"w-full flex flex-col justify-center mb-10",children:e.jsx("div",{className:"flex justify-center",children:e.jsx(x,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})})}):o.length===0?null:e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-2xl xl:text-3xl font-bold text-gray-900 mb-10",children:"More Organizations"}),e.jsx("div",{className:"grid grid-cols-4 mb-5 gap-4",children:e.jsx(n.Suspense,{fallback:e.jsx("div",{children:e.jsx("div",{className:"w-full h-screen flex justify-center",children:e.jsx(x,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})})}),children:o.slice(0,a).map((t,c)=>e.jsx(D,{name:t.abbreviation,logo:t.logo,id:t._id},c))})}),e.jsx("div",{className:"flex justify-center gap-4 mb-20",children:e.jsxs(n.Suspense,{fallback:e.jsx("div",{children:e.jsx("div",{className:"w-full h-screen flex justify-center",children:e.jsx(x,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})})}),children:[a<o.length&&e.jsx(v,{content:"View More ▼",onClick:h}),a>8&&e.jsx(v,{content:"Close All ▲",onClick:g})]})})]})},U=n.lazy(()=>j(()=>import("./TopCategoriesCard-t99bIUBg.js"),__vite__mapDeps([5,1,2]))),C=n.lazy(()=>j(()=>import("./ViewMoreButton-COQiTmiz.js"),__vite__mapDeps([3,1,2,4]))),k=({currentCategory:r})=>{const{apiBaseUrl:l,setApiBaseUrl:u}=p(),[a,d]=n.useState(8),h=()=>{d(t=>Math.min(t+4,o.length))},g=()=>{d(8)},m=async()=>{try{const t=await y.get(`${l}/api/category/getCategories/`);if(t.status===201)return console.log(t.data),t.data.filter(f=>f._id!=r._id)}catch(t){if(t.response||t.request)if(t.response&&t.response.status>=500&&t.response.status<600||t.code==="ECONNREFUSED"||t.code==="ETIMEDOUT"||t.code==="ENOTFOUND"||t.code==="ERR_NETWORK"){const c=await N();u(c)}else console.error("Error fetching state count:",t);else console.error("Error fetching state count:",t)}},{data:o,isLoading:s}=E({queryKey:["moreCategories",l],queryFn:m,staleTime:1/0,cacheTime:24*60*60*1e3,refetchOnMount:!0,refetchOnWindowFocus:!1});return s||!o?e.jsx("div",{className:"w-full flex flex-col justify-center mb-10",children:e.jsx("div",{className:"flex justify-center",children:e.jsx(x,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})})}):o.length===0?null:e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-2xl xl:text-3xl font-bold text-gray-900 mb-10",children:"More Categories"}),e.jsx("div",{className:"grid grid-cols-4 mb-5 gap-4",children:e.jsx(n.Suspense,{fallback:e.jsx("div",{children:e.jsx("div",{className:"w-full h-screen flex justify-center",children:e.jsx(x,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})})}),children:o.slice(0,a).map((t,c)=>e.jsx(U,{name:t.category,logo:t.logo,id:t._id},c))})}),e.jsx("div",{className:"flex justify-center gap-4 mb-20",children:e.jsxs(n.Suspense,{fallback:e.jsx("div",{children:e.jsx("div",{className:"w-full h-screen flex justify-center",children:e.jsx(x,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})})}),children:[a<o.length&&e.jsx(C,{content:"View More ▼",onClick:h}),a>8&&e.jsx(C,{content:"Close All ▲",onClick:g})]})})]})},q="/assets/no_search-CG7dct5k.jpg",Y=()=>{const{apiBaseUrl:r,setApiBaseUrl:l}=p(),u=M(),[a,d]=n.useState(),h=new URLSearchParams(u.search),g=b(),m=h.get("query"),o=async()=>{try{d(m);const i=await y.get(`${r}/api/search/result/${m}`);if(i.status===200)return console.log(i.data),i.data}catch(i){if(i.response||i.request)if(i.response&&i.response.status>=500&&i.response.status<600||i.code==="ECONNREFUSED"||i.code==="ETIMEDOUT"||i.code==="ENOTFOUND"||i.code==="ERR_NETWORK"){const f=await N();l(f)}else console.error("Error fetching state count:",i);else console.error("Error fetching state count:",i)}},{data:s,isLoading:t}=E({queryKey:["search/"+m,r],queryFn:o,staleTime:1/0,cacheTime:5*60*1e3,refetchOnMount:!0,refetchOnWindowFocus:!1});n.useEffect(()=>{s&&d(m)},[s]);const c=i=>{g(`/search?query=${encodeURIComponent(i)}`)};return s?e.jsxs(e.Fragment,{children:[e.jsxs(w,{children:[e.jsx("title",{children:"gyapak"}),e.jsx("meta",{name:"description",content:"gyapak.in is a trusted source for the latest government exam updates, including exam dates, notifications, admit cards, and results for both central and state government departments. Stay updated with real-time information on competitive exams, application deadlines, and result announcements!"}),e.jsx("meta",{name:"keywords",content:"government exams, exam dates, admit cards, results, central government jobs, state government jobs, competitive exams, government jobs"}),e.jsx("meta",{property:"og:title",content:"gyapak"}),e.jsx("meta",{property:"og:description",content:"Find the latest updates on government exams, admit cards, results, and application deadlines for central and state government jobs."})]}),e.jsxs("div",{className:"pt-28",children:[e.jsx("div",{className:"flex justify-center mb-10",children:e.jsx(A,{input:a,searchHandler:c})}),s&&s.authorities.length==0&&s.categories.length==0&&s.organizations.length==0?e.jsxs(e.Fragment,{children:[e.jsxs("h3",{className:"font-bold text-center text-2xl",children:['No match found for "',a,'"']}),e.jsx("img",{src:q,className:"w-5/12 mx-auto"})]}):e.jsxs("div",{className:"text-2xl xl:text-3xl font-bold text-gray-900 mb-5",children:['Your search result for "',a,'"']}),s&&s.authorities&&s.authorities.length>0?e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-lg mb-3",children:"States"}),e.jsx(B,{states:s.authorities})]}):null,s&&s.organizations&&s.organizations.length>0?e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-lg mb-3",children:"Organizations"}),e.jsx(T,{organizations:s.organizations})]}):null,s&&s.categories&&s.categories.length>0?e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-lg mb-3",children:"Categories"}),e.jsx(z,{categories:s.categories})]}):null,s&&s.authorities&&s.authorities.length>0?e.jsx(e.Fragment,{children:e.jsx(F,{currentAuthority:s.authorities[0]})}):s&&s.organizations&&s.organizations.length>0?e.jsx(e.Fragment,{children:e.jsx(S,{currentOrganization:s.organizations[0]})}):s&&s.categories&&s.categories.length>0?e.jsx(e.Fragment,{children:e.jsx(k,{currentCategory:s.categories[0]})}):null]})]}):e.jsx("div",{className:"w-full h-screen flex justify-center",children:e.jsx(x,{size:60,color:"#5B4BEA",speedMultiplier:2,className:"my-auto"})})};export{Y as default};
